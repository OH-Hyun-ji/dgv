<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

	<mapper namespace="UserDAO">
		
		<insert id="register" parameterType="UserVO">
			INSERT INTO user_info(user_num,user_id,user_pw,user_name,user_phone,user_email,user_year,user_month,user_day,user_term)
			VALUES(nextval('seq_user'),#{user_id},#{user_pw},#{user_name},#{user_phone},#{user_email},#{user_year},#{user_month},#{user_day},#{user_term})
		</insert>
		 
		<select id="login" resultType="UserVO">
			SELECT * FROM user_info WHERE user_id = #{user_id}
		</select>
		
		<select id="checkId" resultType="int" parameterType="String">
			SELECT COUNT(*)
			FROM user_info
			WHERE user_id=#{user_id}
		</select>

		<!-- 회원정보 수정 -->
		<update id="userUpdate">
			UPDATE user_info SET 
			user_pw = #{user_pw},
			user_name = #{user_name}
			WHERE user_id = #{user_id}
		</update>
	</mapper>